<!DOCTYPE html>
<html>

<head>
	<meta charset="ISO-8859-1">
	<title>Admin - Listado discos</title>
</head>

<body>


	<div th:insert="fragments/general.html :: menu"></div>

	<a href="registrarDisco">Registar disco nuevo</a>
	<br>
	<form action="obtenerDiscos">
		<span th:text="#{admin.buscador}"></span>
		<input type="text" name="nombre" th:value="${nombre}"></input>
		<input type="submit" value="Buscar">
	</form>
	<br>


	<p th:text="#{admin.listadoDiscos}"></p>

	<div>
		<a th:if="${ anterior >= 0 }" 
			th:href="@{${ 'obtenerDiscos?comienzo=' + anterior + '&nombre=' + nombre }}">Anteriror</a>
		<div>
			Total de resultados: <span th:text="${total}">
		</div>
		<a th:if="${ siguiente < total }"
			th:href="@{${ 'obtenerDiscos?comienzo=' + siguiente + '&nombre=' + nombre }}">Siguiente</a>
	</div>

	<div th:each="disco : ${discos}" style="margin: 15px;">
		<span th:text="#{admin.nombre}"></span> <span th:text="${disco.nombre}"></span> <br>
		<span th:text="#{admin.artista}"></span> <span th:text="${disco.artista}"></span> <br>
		<span th:text="#{admin.Discografica}"></span> <span th:text="${disco.discografica}"></span>
		<span th:text="#{admin.ano}"></span> <span th:text="${disco.ano}"></span>
		<span th:text="#{admin.precio}"></span> <span th:text="${disco.precio}"></span>
		<span th:text="#{admin.genero}"></span> <span th:text="${disco.genero.nombre}"></span> <br>
		<span th:text="#{admin.portada}"></span> <br>
		<img height="80px" th:src="@{${ '../mostrar_imagen?id=' + disco.id }}" alt="albumCover" /><br>
		<a th:text="#{admin.borrar}" th:href="@{${'borrarDisco?id='+ disco.id}}" onclick="return confirm('Â¿seguro?')"></a>
		<a th:text="#{admin.modificar}" th:href="@{${'editarDisco?id='+ disco.id}}"></a>
	</div>

	<div th:if="${#lists.isEmpty(discos)}">
		<h3>No se han encontrado discos con ese nombre</h3>
	</div>


</body>

</html>